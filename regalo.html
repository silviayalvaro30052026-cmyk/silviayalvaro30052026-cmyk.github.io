<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <title>Regalo — Silvia & Álvaro</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="description" content="Información sobre regalo y cuenta bancaria — Silvia & Álvaro" />

  <!-- Misma fuente que el resto del sitio -->
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400;700&display=swap" rel="stylesheet" />

  <link rel="stylesheet" href="styles.css" />
  <style>
    /* Ajustes locales para la página de regalo */
    .card .bank {
      margin-top: 1rem;
      padding: 1rem;
      background: rgba(11,61,46,0.04);
      border-radius: 10px;
      font-family: inherit; /* usar la misma tipografía que el resto de la página */
      color: rgba(11,61,46,0.95);
      box-shadow: 0 6px 18px rgba(11,61,46,0.04);
    }
    .card .bank .bank-name { font-weight: 800; letter-spacing: 0.02em; margin-bottom: 0.4rem; }
    .card .bank .iban {
      margin: 0;
      font-size: 1.15rem;
      font-weight: 700;
      letter-spacing: 0.02em;
      white-space: pre-wrap;
    }
    /* ensure the section-media image sizing matches other pages */
    .section-media img { width:72px; height:72px; object-fit:cover; border-radius:8px; flex:0 0 72px; box-shadow: 0 6px 18px rgba(0,0,0,0.08); }

    /* Gallery styles */
    .photo-gallery { margin-top: 1.25rem; }
    .photo-gallery .gallery-grid {
      display: grid;
      gap: 12px;
      grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
      align-items: start;
    }
    .photo-gallery a {
      display: block;
      border-radius: 12px;
      overflow: hidden;
      box-shadow: 0 10px 30px rgba(11,61,46,0.06);
      background: linear-gradient(180deg, rgba(255,255,255,0.98), rgba(255,255,255,0.96));
      transition: transform 180ms ease, box-shadow 180ms ease;
      text-decoration: none;
    }
    .photo-gallery a:focus,
    .photo-gallery a:hover {
      transform: translateY(-4px) scale(1.01);
      box-shadow: 0 18px 44px rgba(11,61,46,0.10);
      outline: none;
    }
    .photo-gallery img {
      display:block;
      width:100%;
      height:220px;
      object-fit:cover;
      -webkit-user-drag: none;
      user-select: none;
      background: #f6f6f6; /* visible placeholder while loading or if image missing */
    }
    .photo-gallery .caption {
      padding: 0.55rem 0.7rem;
      font-size: 0.95rem;
      color: rgba(11,61,46,0.85);
      background: rgba(255,255,255,0.92);
      border-top: 1px solid rgba(11,61,46,0.03);
    }

    .photo-gallery .fallback-note {
      margin-top: 0.6rem;
      color: rgba(11,61,46,0.7);
      font-size: 0.95rem;
      text-align: center;
    }

    @media (max-width: 840px) {
      .photo-gallery img { height:180px; }
    }
    @media (max-width: 480px) {
      .photo-gallery img { height:140px; }
    }
  </style>
</head>
<body class="evento-page">

  <!-- Navegación (igual que en evento.html / asistencia.html / alojamiento.html) -->
  <nav class="top-nav" role="navigation" aria-label="Navegación de la boda">
    <ul class="nav-list" role="menubar" aria-label="Secciones">
      <li role="none"><a role="menuitem" class="nav-btn" href="index.html">Inicio</a></li>
      <li role="none"><a role="menuitem" class="nav-btn" href="evento.html">Evento</a></li>
      <li role="none"><a role="menuitem" class="nav-btn" href="asistencia.html">Asistencia</a></li>
      <li role="none"><a role="menuitem" class="nav-btn" href="alojamiento.html">Alojamiento</a></li>
      <li role="none"><span class="nav-current" aria-current="page">Regalo</span></li>
    </ul>
  </nav>

  <main id="main" class="section" role="main">
    <h1>Regalo</h1>

    <section class="card" aria-labelledby="regalo-heading">
      <div class="section-media" style="align-items:center; gap:1rem;">
        <img src="img/Regalo.png" alt="Regalo" loading="lazy" width="72" height="72">
        <div class="heading-wrap">
          <h2 id="regalo-heading" style="margin:0;">Regalo</h2>
        </div>
      </div>

      <div class="card-body" style="margin-top:0.8rem; line-height:1.6;">
        <p>Que formes parte de nuestro día ya es un regalo. Si además te apetece acompañarnos un poquito más allá, en nuestra luna de miel y nuestros pequeños sueños, te dejamos este número de cuenta:</p>

        <div class="bank" role="region" aria-label="Datos bancarios para regalo">
          <div class="bank-name">BANCO SANTANDER</div>
          <p class="iban" aria-hidden="false">ES44 0049 5131 1329 1608 2804</p>
        </div>

        <!-- Photo gallery (populated by JS): insert your basenames below -->
        <div class="photo-gallery" aria-labelledby="gallery-heading">
          <h3 id="gallery-heading" style="margin:0.85rem 0 0.6rem 0; font-size:1.05rem;">Unas fotos nuestras</h3>

          <div class="gallery-grid" id="galleryGrid" role="list" aria-live="polite">
            <!-- JS will insert images here. -->
          </div>

          <div id="galleryFallback" class="fallback-note" aria-hidden="true" style="display:none;">
            No se han podido cargar las imágenes. Comprueba que los ficheros están en la carpeta <code>/img</code> y que tienen una extensión web compatible (.jpg, .jpeg, .png, .webp).
          </div>
        </div>
        <!-- /photo-gallery -->

      </div>
    </section>
  </main>

  <footer class="footer" role="contentinfo">Álvaro & Silvia · 30/05/2026</footer>

  <script>
    (function () {
      // Lista de nombres base (sin extensión) que quieres mostrar.
      // Modifícalos si tus archivos se llaman diferente.
      const basenames = [
        'IMG_0130',
        'IMG_1001',
        'IMG_1281',
        'IMG_1445',
        'IMG_1469',
        'IMG_1627',
        'IMG_6288'
      ];

      // Extensiones a intentar, en orden preferido (web-friendly).
      const exts = ['webp', 'jpg', 'jpeg', 'png', 'gif'];

      const galleryGrid = document.getElementById('galleryGrid');
      const fallbackNote = document.getElementById('galleryFallback');

      let loadedCount = 0;
      let attempted = 0;

      // Try to load an image by trying several extensions.
      function tryLoadImage(basename, index = 0) {
        if (index >= exts.length) {
          // nothing found for this basename
          attempted++;
          checkAllDone();
          return;
        }
        const ext = exts[index];
        const url = `img/${basename}.${ext}`;

        const imgTest = new Image();
        imgTest.onload = function () {
          // success: create anchor + img in the grid
          const a = document.createElement('a');
          a.href = url;
          a.target = '_blank';
          a.rel = 'noopener noreferrer';
          a.role = 'listitem';
          a.title = basename;

          const img = document.createElement('img');
          img.src = url;
          img.alt = `Silvia & Álvaro — ${basename}`;
          img.loading = 'lazy';

          // when the displayed image actually loads, improve counters
          img.addEventListener('load', function () {
            // nothing required
          });

          a.appendChild(img);
          galleryGrid.appendChild(a);

          loadedCount++;
          attempted++;
          checkAllDone();
        };
        imgTest.onerror = function () {
          // try next extension
          tryLoadImage(basename, index + 1);
        };
        // start test
        imgTest.src = url;
      }

      function checkAllDone() {
        // once we've attempted for all basenames, if none loaded show fallback
        if (attempted >= basenames.length) {
          if (loadedCount === 0) {
            fallbackNote.style.display = 'block';
            fallbackNote.setAttribute('aria-hidden','false');
          } else {
            fallbackNote.style.display = 'none';
            fallbackNote.setAttribute('aria-hidden','true');
          }
        }
      }

      // Kick off loading for each basename
      basenames.forEach(b => tryLoadImage(b));

      // Accessibility & graceful fallback: if JS disabled, show a short note
      // (No action needed here; server-side could render fallback text)
    })();
  </script>
</body>
</html>
