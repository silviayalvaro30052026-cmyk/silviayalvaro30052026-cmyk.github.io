<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <title>Regalo — Silvia & Álvaro</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="description" content="Información sobre regalo y cuenta bancaria — Silvia & Álvaro" />

  <!-- Misma fuente que el resto del sitio -->
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400;700&display=swap" rel="stylesheet" />

  <link rel="stylesheet" href="styles.css" />
  <style>
    /* Ajustes locales para la página de regalo */
    .card .bank {
      margin-top: 1rem;
      padding: 1rem;
      background: rgba(11,61,46,0.04);
      border-radius: 10px;
      font-family: inherit; /* usar la misma tipografía que el resto de la página */
      color: rgba(11,61,46,0.95);
      box-shadow: 0 6px 18px rgba(11,61,46,0.04);
    }
    .card .bank .bank-name { font-weight: 800; letter-spacing: 0.02em; margin-bottom: 0.4rem; }
    .card .bank .iban {
      margin: 0;
      font-size: 1.15rem;
      font-weight: 700;
      letter-spacing: 0.02em;
      white-space: pre-wrap;
    }

    /* section-media image sizing consistent con otras páginas */
    .section-media img { width:72px; height:72px; object-fit:cover; border-radius:8px; flex:0 0 72px; box-shadow: 0 6px 18px rgba(0,0,0,0.08); }

    /* Gallery: quilt layout + larger images */
    .photo-gallery { margin-top: 1.25rem; }
    .photo-gallery h3 { margin-bottom: 0.6rem; }

    .gallery-grid {
      display: grid;
      gap: 12px;
      grid-template-columns: repeat(12, 1fr);
      grid-auto-rows: 12vw; /* base row height responsive to viewport */
      align-items: stretch;
    }

    /* Item sizing: use column / row spans for variety */
    .gallery-item { position: relative; display: block; border-radius: 12px; overflow: hidden; box-shadow: 0 12px 36px rgba(11,61,46,0.06); text-decoration: none; background:#f8f8f8; cursor: pointer; }
    .gallery-item img { width:100%; height:100%; object-fit:cover; display:block; -webkit-user-drag: none; user-select: none; transition: transform 220ms ease; }
    .gallery-item:hover img { transform: scale(1.03); }

    /* Manual layout for 7 items — tweak spans for a pleasing mosaic */
    /* Desktop / wide */
    .item-1 { grid-column: 1 / span 5; grid-row: 1 / span 2; }
    .item-2 { grid-column: 6 / span 4; grid-row: 1 / span 1; }
    .item-3 { grid-column: 10 / span 3; grid-row: 1 / span 2; }
    .item-4 { grid-column: 6 / span 4; grid-row: 2 / span 1; }
    .item-5 { grid-column: 1 / span 4; grid-row: 3 / span 1; }
    .item-6 { grid-column: 5 / span 4; grid-row: 3 / span 1; }
    .item-7 { grid-column: 9 / span 4; grid-row: 3 / span 1; }

    /* Make the images visually larger on wide screens */
    @media (min-width: 1100px) {
      .gallery-grid { grid-auto-rows: 12vw; }
    }

    /* Tablet: fewer columns and adjusted spans */
    @media (max-width: 1099px) {
      .gallery-grid { grid-template-columns: repeat(8, 1fr); grid-auto-rows: 18vw; }
      .item-1 { grid-column: 1 / span 5; grid-row: 1 / span 2; }
      .item-2 { grid-column: 6 / span 3; grid-row: 1 / span 1; }
      .item-3 { grid-column: 6 / span 3; grid-row: 2 / span 1; }
      .item-4 { grid-column: 1 / span 4; grid-row: 3 / span 1; }
      .item-5 { grid-column: 5 / span 4; grid-row: 3 / span 1; }
      .item-6 { grid-column: 1 / span 4; grid-row: 4 / span 1; }
      .item-7 { grid-column: 5 / span 4; grid-row: 4 / span 1; }
    }

    /* Mobile: single column stacked but with nicer heights */
    @media (max-width: 640px) {
      .gallery-grid { grid-template-columns: repeat(2, 1fr); grid-auto-rows: 48vw; gap: 10px; }
      .item-1, .item-2, .item-3, .item-4, .item-5, .item-6, .item-7 {
        grid-column: auto / span 2;
        grid-row: auto / span 1;
      }
    }

    /* Lightbox modal */
    .lightbox {
      position: fixed;
      inset: 0;
      display: none;
      align-items: center;
      justify-content: center;
      background: rgba(2, 6, 6, 0.6);
      z-index: 1200;
      padding: 24px;
    }
    .lightbox.show { display: flex; }
    .lightbox-inner {
      position: relative;
      max-width: calc(100% - 48px);
      max-height: calc(100% - 48px);
      width: 100%;
      display:flex;
      align-items:center;
      justify-content:center;
    }
    .lightbox img {
      max-width: 100%;
      max-height: 100%;
      border-radius: 10px;
      box-shadow: 0 30px 80px rgba(2,6,6,0.5);
      background: #111;
      display:block;
    }
    .lightbox .close-btn, .lightbox .prev-btn, .lightbox .next-btn {
      position: absolute;
      background: rgba(255,255,255,0.08);
      border: none;
      color: #fff;
      width: 44px;
      height: 44px;
      border-radius: 999px;
      display:flex;
      align-items:center;
      justify-content:center;
      cursor:pointer;
      backdrop-filter: blur(4px);
    }
    .lightbox .close-btn { top: -22px; right: -22px; }
    .lightbox .prev-btn { left: 8px; }
    .lightbox .next-btn { right: 8px; }
    .lightbox .caption {
      position: absolute;
      bottom: -48px;
      left: 0;
      right: 0;
      text-align: center;
      color: rgba(255,255,255,0.95);
      font-weight:600;
    }

    /* Accessibility focus styles */
    .lightbox .close-btn:focus, .lightbox .prev-btn:focus, .lightbox .next-btn:focus {
      outline: 2px solid rgba(255,255,255,0.18);
      outline-offset: 4px;
    }
  </style>
</head>
<body class="evento-page">

  <!-- Navegación (consistente con las demás páginas) -->
  <nav class="top-nav" role="navigation" aria-label="Navegación de la boda">
    <ul class="nav-list" role="menubar" aria-label="Secciones">
      <li role="none"><a role="menuitem" class="nav-btn" href="index.html">Inicio</a></li>
      <li role="none"><a role="menuitem" class="nav-btn" href="evento.html">Evento</a></li>
      <li role="none"><a role="menuitem" class="nav-btn" href="asistencia.html">Asistencia</a></li>
      <li role="none"><a role="menuitem" class="nav-btn" href="alojamiento.html">Alojamiento</a></li>
      <li role="none"><span class="nav-current" aria-current="page">Regalo</span></li>
    </ul>
  </nav>

  <main id="main" class="section" role="main">
    <h1>Regalo</h1>

    <section class="card" aria-labelledby="regalo-heading">
      <div class="section-media" style="align-items:center; gap:1rem;">
        <img src="img/Regalo.png" alt="Regalo" loading="lazy" width="72" height="72">
        <div class="heading-wrap">
          <h2 id="regalo-heading" style="margin:0;">Regalo</h2>
        </div>
      </div>

      <div class="card-body" style="margin-top:0.8rem; line-height:1.6;">
        <p>Que formes parte de nuestro día ya es un regalo. Si además te apetece acompañarnos un poquito más allá, en nuestra luna de miel y nuestros pequeños sueños, te dejamos este número de cuenta:</p>

        <div class="bank" role="region" aria-label="Datos bancarios para regalo">
          <div class="bank-name">BANCO SANTANDER</div>
          <p class="iban" aria-hidden="false">ES44 0049 5131 1329 1608 2804</p>
        </div>

        <!-- Photo gallery (mosaic layout) -->
        <div class="photo-gallery" aria-labelledby="gallery-heading">
          <h3 id="gallery-heading">Unas fotos nuestras</h3>

          <div class="gallery-grid" role="list" aria-label="Galería de fotos">
            <!-- Assign classes to shape the mosaic; names must match files in /img -->
            <div class="gallery-item item-1" data-index="0" role="button" tabindex="0" aria-label="Abrir foto 1">
              <img src="img/IMG_0130.jpeg" alt="Silvia & Álvaro — foto 1" loading="lazy">
            </div>

            <div class="gallery-item item-2" data-index="1" role="button" tabindex="0" aria-label="Abrir foto 2">
              <img src="img/IMG_1001.jpeg" alt="Silvia & Álvaro — foto 2" loading="lazy">
            </div>

            <div class="gallery-item item-3" data-index="2" role="button" tabindex="0" aria-label="Abrir foto 3">
              <img src="img/IMG_1281.jpeg" alt="Silvia & Álvaro — foto 3" loading="lazy">
            </div>

            <div class="gallery-item item-4" data-index="3" role="button" tabindex="0" aria-label="Abrir foto 4">
              <img src="img/IMG_1445.jpeg" alt="Silvia & Álvaro — foto 4" loading="lazy">
            </div>

            <div class="gallery-item item-5" data-index="4" role="button" tabindex="0" aria-label="Abrir foto 5">
              <img src="img/IMG_1469.jpeg" alt="Silvia & Álvaro — foto 5" loading="lazy">
            </div>

            <div class="gallery-item item-6" data-index="5" role="button" tabindex="0" aria-label="Abrir foto 6">
              <img src="img/IMG_1627.jpeg" alt="Silvia & Álvaro — foto 6" loading="lazy">
            </div>

            <div class="gallery-item item-7" data-index="6" role="button" tabindex="0" aria-label="Abrir foto 7">
              <img src="img/IMG_6288.jpeg" alt="Silvia & Álvaro — foto 7" loading="lazy">
            </div>
          </div>
        </div>
        <!-- /photo-gallery -->

      </div>
    </section>
  </main>

  <!-- Lightbox modal -->
  <div id="lightbox" class="lightbox" role="dialog" aria-modal="true" aria-hidden="true" aria-label="Visor de imágenes">
    <div class="lightbox-inner" role="document">
      <button class="close-btn" aria-label="Cerrar (Esc)" title="Cerrar">&times;</button>
      <button class="prev-btn" aria-label="Foto anterior" title="Anterior" aria-hidden="false">&#8249;</button>
      <img id="lightboxImg" src="" alt="">
      <button class="next-btn" aria-label="Foto siguiente" title="Siguiente" aria-hidden="false">&#8250;</button>
      <div class="caption" id="lightboxCaption" aria-hidden="false"></div>
    </div>
  </div>

  <footer class="footer" role="contentinfo">Álvaro & Silvia · 30/05/2026</footer>

  <script>
    (function () {
      const items = Array.from(document.querySelectorAll('.gallery-item'));
      const lightbox = document.getElementById('lightbox');
      const lbImg = document.getElementById('lightboxImg');
      const lbCaption = document.getElementById('lightboxCaption');
      const closeBtn = lightbox.querySelector('.close-btn');
      const prevBtn = lightbox.querySelector('.prev-btn');
      const nextBtn = lightbox.querySelector('.next-btn');

      // Build array of image srcs & alts from the gallery (keeps order)
      const gallery = items.map(i => {
        const img = i.querySelector('img');
        return { src: img.getAttribute('src'), alt: img.getAttribute('alt') || '' };
      });

      let currentIndex = 0;

      function showLightbox(index) {
        currentIndex = (index + gallery.length) % gallery.length;
        lbImg.src = gallery[currentIndex].src;
        lbImg.alt = gallery[currentIndex].alt;
        lbCaption.textContent = gallery[currentIndex].alt;
        lightbox.classList.add('show');
        lightbox.setAttribute('aria-hidden', 'false');
        // focus management
        closeBtn.focus();
        document.body.style.overflow = 'hidden'; // prevent background scroll
      }

      function hideLightbox() {
        lightbox.classList.remove('show');
        lightbox.setAttribute('aria-hidden', 'true');
        lbImg.src = '';
        lbImg.alt = '';
        document.body.style.overflow = '';
      }

      function showNext() { showLightbox(currentIndex + 1); }
      function showPrev() { showLightbox(currentIndex - 1); }

      // Open on click / keyboard Enter/Space
      items.forEach((item, idx) => {
        item.addEventListener('click', function (e) {
          e.preventDefault();
          showLightbox(idx);
        });
        item.addEventListener('keydown', function (e) {
          if (e.key === 'Enter' || e.key === ' ') {
            e.preventDefault();
            showLightbox(idx);
          }
        });
      });

      // Controls
      closeBtn.addEventListener('click', hideLightbox);
      nextBtn.addEventListener('click', showNext);
      prevBtn.addEventListener('click', showPrev);

      // Close when clicking outside the image (on backdrop)
      lightbox.addEventListener('click', function (e) {
        if (e.target === lightbox) hideLightbox();
      });

      // Keyboard navigation
      document.addEventListener('keydown', function (e) {
        if (lightbox.classList.contains('show')) {
          if (e.key === 'Escape') hideLightbox();
          if (e.key === 'ArrowRight') showNext();
          if (e.key === 'ArrowLeft') showPrev();
        }
      });

      // Preload neighbor images for smoother navigation
      function preload(index) {
        const idx = (index + gallery.length) % gallery.length;
        const url = gallery[idx].src;
        const img = new Image();
        img.src = url;
      }
      // Preload next/prev on show
      const observer = new MutationObserver(() => {
        if (lightbox.classList.contains('show')) {
          preload(currentIndex + 1);
          preload(currentIndex - 1);
        }
      });
      observer.observe(lightbox, { attributes: true, attributeFilter: ['class'] });
    })();
  </script>
</body>
</html>
